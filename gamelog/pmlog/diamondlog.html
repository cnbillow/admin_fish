
    <title>捕鱼-钻石产销</title>
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <link rel="stylesheet" href="../../layui/css/layui.css">
    <link rel="stylesheet" href="../../css/global.css">
    
<!-- jQuery -->
<!-- DataTables -->
 <!--第二步：添加如下 HTML 代码-->
   
    
    <!-- DataTables CSS -->
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.15/css/jquery.dataTables.min.css">
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/buttons/1.3.1/css/buttons.dataTables.min.css"/>

<link rel="stylesheet" type="text/css" href="../../css/fishing.css"/>
<!-- jQuery -->
<script type="text/javascript" charset="utf8" src="//code.jquery.com/jquery-1.12.4.js"></script>
<script type="text/javascript" src="../../layui/layui.js"></script>
<!-- DataTables -->
<!--第二步：添加如下 HTML 代码-->
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.15/js/jquery.dataTables.min.js"></script>
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/buttons/1.3.1/js/dataTables.buttons.min.js"></script>
<script type="text/javascript" charset="utf8" src="//cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
<script type="text/javascript" charset="utf8" src="//cdn.datatables.net/buttons/1.3.1/js/buttons.html5.min.js"></script>

<div class='fishlog'>
	<div class="breadcrumb">
			<fieldset class="layui-elem-field layui-field-title" style="margin-top:10px;">
			  <legend>位置：
			  	<span class="layui-breadcrumb">
					  <a href="#">游戏日志</a>
					  <a><cite>钻石产销</cite></a>
					</span>
			  </legend>
			  
			</fieldset>
			<button class="dt-button buttons-excel buttons-html5 excelOut" tabindex="0" aria-controls="table_id_example"><span>导出Excel</span></button>
	</div>
	<div class="fishparams">
		
	    <div class="layui-inline">
	      <label class="layui-form-label">值范围：</label>
	      <div class="layui-input-inline" style="width: 100px;">
	        <input type="text" name="price_min" placeholder="1000" autocomplete="off" class="layui-input">
	      </div> —
	      <!--<div class="layui-form-mid">-</div>-->
	      <div class="layui-input-inline" style="width: 100px;">
	        <input type="text" name="price_max" placeholder="10000" autocomplete="off" class="layui-input">
	      </div>
	    </div>
	  <div class="layui-inline">
	      <label class="layui-form-label">开始时间：</label>
	      <div class="layui-input-inline">
	         <input class="layui-input" placeholder="开始时间" onclick="layui.laydate({elem: this, istime: true, format: 'YYYY-MM-DD hh:mm:ss'})">
	      </div>
	  </div>
	  <div class="layui-inline">
	      <label class="layui-form-label">结束时间：</label>
	      <div class="layui-input-inline">
	         <input class="layui-input" placeholder="开始时间" onclick="layui.laydate({elem: this, istime: true, format: 'YYYY-MM-DD hh:mm:ss'})">
	      </div>
	  </div>
	  
	  <div class="layui-inline">
	      <label class="layui-form-label">玩家昵称：</label>
	      <div class="layui-input-inline">
	        <input type="text" name="nickname" lay-verify="" autocomplete="off" class="layui-input" placeholder="请输入玩家昵称">
	      </div>
	    </div>
	  <div class="flocation layui-inline">
		      <label class="layui-form-label">产销类型：</label>
		      <div class="layui-input-inline">
		        <select name="modules" lay-verify="required" lay-search="">
		          <option value="1">--请选择--</option>
		          <option value="1">财富</option>
		          <option value="2">日爆金</option>
		          <option value="3">周爆金</option>
		          <option value="4">月爆金</option>
	        </select>
	      </div>
	  </div>
	  <button class="layui-btn">查 询</button>
	</div>
	<div class="tabWrap">
		<table id="table_id_example" class="display nowrap">
    <thead>
        <tr>
		      <th>CID</th> 
		      <th>玩家昵称</th> 
		      <th>平台</th>
		      <th>变化金额</th> 
		      <th>产销类型</th>
		      <th>时间</th> 
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>100001</td>
            <td>哈哈</td>
            <td>OneStore</td>
            <td>深海遗迹</td>
            <td>哈哈</td>
            <td>2017-05-02 15:24:59</td>
        </tr>
        <tr>
            <td>100001</td>
            <td>哈哈</td>
            <td>OneStore</td>
            <td>深海遗迹</td>
            <td>哈哈</td>
            <td>2017-05-02 15:24:59</td>
        </tr>
        <tr>
            <td>100001</td>
            <td>哈哈</td>
            <td>OneStore</td>
            <td>深海遗迹</td>
            <td>哈哈</td>
            <td>2017-05-02 15:24:59</td>
        </tr>
        <tr>
            <td>100001</td>
            <td>哈哈</td>
            <td>OneStore</td>
            <td>深海遗迹</td>
            <td>哈哈</td>
            <td>2017-05-02 15:24:59</td>
        </tr>
        <tr>
            <td>100001</td>
            <td>哈哈</td>
            <td>OneStore</td>
            <td>深海遗迹</td>
            <td>哈哈</td>
            <td>2017-05-02 15:24:59</td>
        </tr>
        <tr>
            <td>100001</td>
            <td>哈哈</td>
            <td>OneStore</td>
            <td>深海遗迹</td>
            <td>哈哈</td>
            <td>2017-05-02 15:24:59</td>
        </tr>
        <tr>
            <td>100001</td>
            <td>哈哈</td>
            <td>OneStore</td>
            <td>深海遗迹</td>
            <td>哈哈</td>
            <td>2017-05-02 15:24:59</td>
        </tr>
        <tr>
            <td>100001</td>
            <td>哈哈</td>
            <td>OneStore</td>
            <td>深海遗迹</td>
            <td>哈哈</td>
            <td>2017-05-02 15:24:59</td>
        </tr>
        <tr>
            <td>100001</td>
            <td>哈哈</td>
            <td>OneStore</td>
            <td>深海遗迹</td>
            <td>哈哈</td>
            <td>2017-05-02 15:24:59</td>
        </tr>
        <tr>
            <td>100001</td>
            <td>哈哈</td>
            <td>OneStore</td>
            <td>深海遗迹</td>
            <td>哈哈</td>
            <td>2017-05-02 15:24:59</td>
        </tr>
    </tbody>
</table>
	
	</div>
	
</div>
<script>
<!--第三步：初始化Datatables-->
$(document).ready( function () {
	$('#table_id_example').DataTable( {
        dom: 'Bfrtip',
        buttons: [ {
        	  'text': '导出Excel',
            className: 'excelBtn',
            extend: 'excelHtml5',
            customize: function( xlsx ) {
                var sheet = xlsx.xl.worksheets['sheet1.xml'];
 
                $('row c[r^="C"]', sheet).attr( 's', '2' );
            }
            /*,'exportOptions': {  
	                   'modifier': {  
	                       'page': 'current'  
	                   }  
	               }*///导出当前页  
        } ],
       "searching":true,
       "responsive": true,
       "bLengthChange": true,
       "processing":true,
       "sPaginationType": "full_numbers",
       "lengthMenu": [[10, 20, 30, 50,-1], [10, 20, 30,50, "所有"]],
       "sDom": '<"top"fl>rt<"bottom"ip><"clear">',
       "oLanguage": {
            "sProcessing": "<img src='/images/datatable_loading.gif'>  努力加载数据中.",
            "sLengthMenu": "每页显示 _MENU_ 条记录",
            "sZeroRecords": "抱歉， 没有找到",
            "sInfo": "从 _START_ 到 _END_ /共 _TOTAL_ 条数据",
            "sInfoEmpty": "没有数据",
            "sInfoFiltered": "(从 _MAX_ 条数据中检索)",
            "sZeroRecords": "没有检索到数据",
            "sSearch": "模糊查询:  ",
            "oPaginate": {
                "sFirst": "首页",
                "sPrevious": "前一页",
                "sNext": "后一页",
                "sLast": "尾页"
            }
        }
        
    });
    $('.excelOut').click(function(){
    		$('.excelBtn').click();
    })
    
} );
/*//l- 每页显示数量
//f - 过滤输入
//t - 表单Table
//i - 信息
//p - 翻页
//r - pRocessing
//< and > - div elements
//<"class" and > - div with a class
//Examples: <"wrapper"flipt>, <lf<t>ip>*/


layui.use('element', function(){
  var element = layui.element(); //导航的hover效果、二级菜单等功能，需要依赖element模块
  
  //监听导航点击
  element.on('nav(demo)', function(elem){
    //console.log(elem)
    layer.msg(elem.text());
  });
});

layui.use(['form', 'layedit', 'laydate'], function(){
  var form = layui.form()
  ,layer = layui.layer
  ,layedit = layui.layedit
  ,laydate = layui.laydate;
  
  //创建一个编辑器
  var editIndex = layedit.build('LAY_demo_editor');
 
  //自定义验证规则
  form.verify({
    title: function(value){
      if(value.length < 5){
        return '标题至少得5个字符啊';
      }
    }
    ,pass: [/(.+){6,12}$/, '密码必须6到12位']
    ,content: function(value){
      layedit.sync(editIndex);
    }
  });
  
  //监听指定开关
  form.on('switch(switchTest)', function(data){
    layer.msg('开关checked：'+ (this.checked ? 'true' : 'false'), {
      offset: '6px'
    });
    layer.tips('温馨提示：请注意开关状态的文字可以随意定义，而不仅仅是ON|OFF', data.othis)
  });
  
  //监听提交
  form.on('submit(demo1)', function(data){
    layer.alert(JSON.stringify(data.field), {
      title: '最终的提交信息'
    })
    return false;
  });
  
  /*日历插件触发*/
 layui.use('laydate', function(){
  var laydate = layui.laydate;
  
  var start = {
    min: laydate.now()
    ,max: '2099-06-16 23:59:59'
    ,istoday: false
    ,choose: function(datas){
      end.min = datas; //开始日选好后，重置结束日的最小日期
      end.start = datas //将结束日的初始值设定为开始日
    }
  };
  
  var end = {
    min: laydate.now()
    ,max: '2099-06-16 23:59:59'
    ,istoday: false
    ,choose: function(datas){
      start.max = datas; //结束日选好后，重置开始日的最大日期
    }
  };
  
  
});
  
});
</script>

